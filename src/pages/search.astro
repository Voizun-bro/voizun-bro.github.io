---
import BaseLayout from '../layouts/BaseLayout.astro';
import SearchComponent from '../components/SearchComponent';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const searchData = posts.map(post => ({
  slug: post.slug,
  title: post.data.title,
  content: post.body,
  date: post.data.date,
  image: post.data.image,
}));
---

<BaseLayout title="Search">
  <div class="max-w-4xl mx-auto">
    <SearchComponent client:load searchData={searchData} />
  </div>
</BaseLayout>
